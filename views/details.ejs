<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles.css">
    <title><%= title %></title>
</head>
<body>  
    <nav>
        <a href="/">Homepage</a>
        <a href="/create">Create Course</a>
    </nav>
        <div class="details">
                <h3>Title: <%=  course.title %></h3>
                <p>Course: <%=  course.course %></p>
                <p>Body: <%=  course.body %></p>
                <p>Id: <%= course._id%></p>
                <a id="delete" data-doc="<%= course._id%>">Delete</a>
        </div>

        <script>

            const trashcan = document.getElementById('delete')
            trashcan.addEventListener('click', (e) => {
                const endpoint = `/${trashcan.dataset.doc}`
                // fetch function
                fetch(endpoint, {
                    method: 'DELETE'
                })
                .then(response => response.json())
                .then(data => window.location.href = data.redirect)
                .catch(err => console.log(err))
            })


        </script>
        
</body>
</html>